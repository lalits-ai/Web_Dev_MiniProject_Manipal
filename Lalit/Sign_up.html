<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sign Up | MedPharm</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">

  <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="css/signup_styles.css">

</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #003e78;">
    <div class="container-fluid">
      <a class="navbar-brand text-warning" href="" onfocus="readAloud('MedPharmAccess')">
        <img src="logo.png" alt="" width="30px" height="30px" style="margin-right: 5px;"><b>MedPharmAccess</b></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active text-warning" aria-current="page" href="Login.html"
              onfocus="readAloud('Login')"><b>Login</b></a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="container">
    <form class="regForm needs-validation" novalidate>
      <h1>Sign Up</h1>
      <div class="form-group ">
        <label for="fname" class="form-label">First Name</label>
        <input type="text" id="fname" class="form-control" onfocus="readAloud('First Name')" required>
        <div class="valid-feedback">Valid</div>
        <div class="invalid-feedback">Enter Valid First Name</div>
      </div>
      <div class="form-group">
        <label for="lname" class="form-label">Last Name</label>
        <input type="text" id="lname" class="form-control" onfocus="readAloud('Last Name')" required>
        <div class="valid-feedback">Valid</div>
        <div class="invalid-feedback">Enter Valid Last Name</div>
      </div>
      <div class="form-group">
        <label for="email" class="form-label">Email</label>
        <input type="email" id="email" class="form-control" onfocus="readAloud('Email')" required>
        <div class="valid-feedback">Valid</div>
        <div class="invalid-feedback">Enter valid Email</div>
      </div>
      <div class="form-group">
        <label for="pass" class="form-label">Password</label>
        <input type="password" id="pass" class="form-control" onfocus="readAloud('Password')" required>
        <div class="valid-feedback">Valid</div>
        <div class="invalid-feedback">Password must contain one uppercase, one lowercase, one digit, one special
          character</div>
      </div>
      <div class="form-group">
        <label for="cpass" class="form-label">Confirm Password</label>
        <input type="password" id="cpass" class="form-control" onfocus="readAloud('Confirm Password')" required>
        <div class="valid-feedback"></div>
        <div class="invalid-feedback">Passwords do not match</div>
      </div>
      <br>
      <div class="row">
        <div class="col">
          <input type="submit" value="Submit" id="submit" class="btn btn-primary col-12 mb-1"
            onfocus="readAloud('Submit')">
          <input type="reset" value="Reset" id="reset" class="btn btn-secondary col-12 mb-3"
            onfocus="readAloud('Reset')" onclick="resetForm()">
        </div>
      </div>
      <span>Already have an account? <a href="Login.html" class="text-decoration-none"
          onfocus="readAloud('Already have an account? Sign in')">Sign In</a></span>
    </form>
  </div>
  <br>
  <footer class="bg-dark text-center text-white">
    <div class="container p-3 d-flex flex-column">
      <section class="mb-4">
        <!-- Facebook -->
        <a href="https://www.facebook.com/Drugscom" class="text-decoration-none">
          <i class="bi bi-facebook"></i>
          <span style="margin-right: 25px;">Facebook</span>


        </a>

        <!-- Twitter -->
        <a href="https://twitter.com/drugscom" class="text-decoration-none">
          <i class="bi bi-twitter"></i>
          <span style="margin-right: 25px;">Twitter</span>

        </a>



        <!-- Instagram -->
        <a href="https://www.instagram.com/drugs.com_official/" class="text-decoration-none">
          <i class="bi bi-instagram"></i>
          <span style="margin-right: 25px;">Instagram</span>
        </a>
        <!--youtube-->
        <a href="https://www.youtube.com/user/drugscom/" class="text-decoration-none">
          <i class="bi bi-youtube"></i>
          <span style="margin-right: 3px;">Youtube</span>
        </a>
      </section>
      <p><strong>Disclaimer:</strong> This site is designed to offer information for general educational purposes only.
        The health information furnished on this site and the interactive responses are not intended to be professional
        advice and are not intended to replace personal consultation with a qualified physician, pharmacist, or other
        healthcare professional. You must always seek the advice of a professional for questions related to a disease,
        disease symptoms, and appropriate therapeutic treatments.</p>
  </footer>

  <script>
    // Function to start reading the content aloud
    function readAloud(content) {
      // const content = 'First Name';
      const utterance = new SpeechSynthesisUtterance(content);
      speechSynthesis.speak(utterance);
    }
    function validateForm() {
      var fname = document.getElementById("fname");
      var lname = document.getElementById("lname");
      var email = document.getElementById("email");
      var pass = document.getElementById("pass");
      var cpass = document.getElementById("cpass");

      // Regular expression for a valid name (at least one uppercase and one lowercase letter)
      var nameRegExp = /^(?=.*[a-z])(?=.*[A-Z]).+$/;
      var passRegExp = /^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*\W).+/;

      // Check the first name
      if (fname.value.trim() === "" || !nameRegExp.test(fname.value)) {
        showError(fname, "Please provide a valid first name.");
        return false;
      }
      else {
        showNoError(fname, "Valid");
      }

      // Check the last name
      if (lname.value.trim() === "" || !nameRegExp.test(lname.value)) {
        showError(lname, "Please provide a valid last name.");
        return false;
      }
      else {
        showNoError(lname, "Valid");
      }

      // Check the email
      if (email.value.trim() === "" || !validateEmail(email.value)) {
        showError(email, "Please provide a valid email address.");
        return false;
      }
      else {
        showNoError(email, "Valid");
      }

      // Check the password
      if (!passRegExp.test(pass.value)) {
        showError(pass, "Password should contain one uppercase, one lowercase, one digit and one special characeter");
      }
      else {
        showNoError(pass, "");
      }

      // Check the confirm password
      if (cpass.value.trim() === "" || cpass.value !== pass.value) {
        showError(cpass, "Passwords do not match.");
        return false;
      }
      else {
        showNoError(cpass, "Passwords match");
      }

      return true;
    }

    // Function to show an error message
    function showError(input, message) {
      var feedback = input.nextElementSibling;
      input.classList.add("is-invalid");
      input.classList.remove("is-valid");
      feedback.innerHTML = message;
    }

    //Function to show correct message
    function showNoError(input, message) {
      var feedback = input.nextElementSibling;
      input.classList.add("is-valid");
      input.classList.remove("is-invalid");
      feedback.innerHTML = message;
    }

    // Function to validate email using a regular expression
    function validateEmail(email) {
      var emailRegExp = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
      return emailRegExp.test(email);
    }

    function resetForm() {
      // Get all elements with the "is-valid" or "is-invalid" class
      var elements = document.querySelectorAll('.is-valid, .is-invalid');

      // Loop through the elements and remove the classes
      for (var i = 0; i < elements.length; i++) {
        elements[i].classList.remove('is-valid', 'is-invalid');
      }
    }
    // Event listener for form submission
    document.addEventListener("DOMContentLoaded", function () {
      var homePageUrl = "../index.html" //Add home page url here

      var submitButton = document.getElementById('submit');

      submitButton.addEventListener("click", function (event) {
        if (!validateForm()) {
          event.preventDefault(); // Prevent form submission if validation fails
        }
        else {
          window.open(homePageUrl);
          alert('New Registration' + '\n' +
            'First Name: ' + fname.value + '\n' +
            'Last Name: ' + lname.value + '\n' +
            'Email: ' + email.value);

        }
      });
    });
  </script>
</body>

</html>